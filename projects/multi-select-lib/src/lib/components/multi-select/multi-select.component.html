<div class="multi_select" [class.expanded]="isShowMultiSelect">

  <div class="form_group">
    <div class="form_control" [class.active]="isShowMultiSelect">
      <label for="select" [class.float]="isFloatLabel">{{config?.label}}</label>
      <input type="text" name="" id="select"  (click)="onShowMultiSelect()" readonly
             [formControl]="input" >
      <button [class.expanded]="isShowMultiSelect">
        <img src="../assets/icons/dropdown.svg" alt="">
      </button>
    </div>
  </div>


  <ul class="multi_select_dropdown" *ngIf="isShowMultiSelect">
    <div class="content">
      <ng-container *ngIf="options">
        <li *ngFor="let option of options   ;let i= index">
          <label [for]="'checkbox_' + i">
            <input type="checkbox" [checked]="option.selected || parentToCheck ? parentToCheck![option.primaryKey] : false"  #inputRef [id]="'checkbox_' + i"
                   (change)="onCheck(option)">
            <span class="checkmark"></span>
          </label>
          <span class="text">{{option.text}}</span>

          <ul *ngIf="option.children" class="multi_select_dropdown hasChildren">
            <li *ngFor="let child of option.children;let j = index" class="children">
              <label [for]="'checkbox_child' + j+1">
                <input type="checkbox" [checked]="option.selected" #inputRef [id]="'checkbox_child' + j+1"
                       (change)="onCheckChild(child)">
                <span class="checkmark"></span>
              </label>
              <span class="text">{{child.text}}</span>
            </li>
          </ul>
        </li>
      </ng-container>
    </div>

    <div class="footer">
      <span class="selected_count" *ngIf="countSelectedItems">{{countSelectedItems}} {{config?.selectedText}} </span>
      <div class="actions">
<!--        <button mat-raised-button class="primary"  (click)="onAddSelectedOption()" [disabled]="selectedArray?.length === 0">{{config?.addButton}}</button>-->
        <button mat-raised-button class="accent" (click)="onClearValues()">{{config?.clearValuesButton}}</button>
      </div>
    </div>
  </ul>
</div>
